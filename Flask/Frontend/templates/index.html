<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestione MQTT</title>
</head>
<body>
    <h1>MQTT Manager</h1>

    <h2>Pubblica un messaggio</h2>
    <input type="text" id="topic" placeholder="Inserisci topic">
    <input type="text" id="message" placeholder="Inserisci messaggio">
    <button onclick="publishMessage()">Invia</button>

    <script>
        function publishMessage() {
            var topic = document.getElementById("topic").value || "test/topic";
            var message = document.getElementById("message").value || "Ciao MQTT!";
            
            fetch("/publish", {
                method: "POST",
                body: JSON.stringify({ topic: topic, message: message }),
                headers: { "Content-Type": "application/json" }
            });
        }
    </script>
</body>
</html>